<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Vehicle Rentals</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #e3f6f5;
            font-family: Arial, sans-serif;
        }

        .table th, .table td {
            vertical-align: middle;
            text-align: center;
        }

        .btn-book {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }

        .btn-book:hover {
            background-color: #0056b3;
        }

        .available {
            color: green;
            font-weight: bold;
        }

        .unavailable {
            color: red;
            font-weight: bold;
        }

        .unavailable-row {
            background-color: #ddd;
            color: gray;
        }

        .navbar {
            background-color: #00b4d8;
        }

        .navbar-brand {
            font-weight: bold;
            color: white !important;
        }

        .nav-link,
        .dropdown-item {
            color: white !important;
        }

        .dropdown-menu {
            background-color: #00b4d8;
        }

        h2 {
            font-weight: 700;
            text-align: center;
            margin: 30px 0;
        }
    </style>
</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Vehicle Rental Dashboard</a>
        <div class="ms-auto">
            <div class="dropdown">
                <button class="btn btn-outline-light dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    Profile
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                    <li><a class="dropdown-item" href="{{ url_for('logout') }}">Logout</a></li>
                    <li><a class="dropdown-item" href="{{ url_for('view_bookings') }}">My Bookings</a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<!-- Vehicle Table -->
<div class="container">
    <h2>Available Vehicles</h2>
    <table class="table table-bordered table-hover">
        <thead class="table-light">
            <tr>
                <th>Vehicle ID</th>
                <th>Type</th>
                <th>Make</th>
                <th>Model</th>
                <th>Year</th>
                <th>Color</th>
                <th>Seating</th>
                <th>Rent/Day (in Rs)</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for vehicle in vehicles %}
            <tr class="{% if vehicle.availability != 'Available' %}unavailable-row{% endif %}">
                <td>{{ vehicle.vehicle_id }}</td>
                <td>{{ vehicle.type }}</td>
                <td>{{ vehicle.make }}</td>
                <td>{{ vehicle.model }}</td>
                <td>{{ vehicle.year }}</td>
                <td>{{ vehicle.color }}</td>
                <td>{{ vehicle.seating_capacity }}</td>
                <td>{{ vehicle.rent_per_day }}</td>
                <td class="{% if vehicle.availability == 'Available' %}available{% else %}unavailable{% endif %}">
                    {{ vehicle.availability }}
                </td>
                <td>
                    {% if vehicle.availability == 'Available' %}
                    <form method="GET" action="{{ url_for('book_vehicle', vehicle_id=vehicle.id) }}">
                        <button type="submit" class="btn btn-book">Book Now</button>
                    </form>
                    {% else %}
                    <button class="btn btn-secondary" disabled>Unavailable</button>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Bootstrap JS & Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

</body>
</html>
